# auto-generated by grc.converter

id: isdbt_isdbt_rf_channel_decoding
label: ISDB-T RF Channel Decoding
category: ISDBT

parameters:
-   id: max_freq_offset
    label: Maximum Frequency Offset
    dtype: raw
    default: '10'
-   id: guard
    label: Guard Interval
    dtype: enum
    default: '0.125'
    options: ['0.250', '0.125', '0.0625', '0.03125']
    option_labels: [1/4, 1/8, 1/16, 1/32]
-   id: mode
    label: Transmission Mode
    dtype: enum
    default: '3'
    options: ['1', '2', '3']
    option_labels: [MODE1(2K), MODE2(4K), MODE3(8K)]
    option_attributes:
        payload_length: ['1405', '2809', '5617']
-   id: snr
    label: SNR
    dtype: raw
    default: '10'
-   id: tmcc_print
    label: Print TMCC
    dtype: ''
    default: 'False'
    options: ['True', 'False']
    option_labels: ['Yes', 'No']

inputs:
-   domain: stream
    dtype: complex
    vlen: 1

outputs:
-   domain: stream
    dtype: complex
    vlen: ${ 13*96*2**(int(mode)-1) }
-   label: Channel Taps
    domain: stream
    dtype: complex
    vlen: ${ mode.payload_length }
    optional: true

templates:
    imports: import isdbt
    make: |-
        isdbt.isdbt_rf_channel_decoding(
            max_freq_offset=${max_freq_offset},
            guard=${guard},
            mode=${mode},
            snr=${snr},
            tmcc_print=${tmcc_print},
        )
    callbacks:
    - set_max_freq_offset(${max_freq_offset})
    - set_guard(${guard})
    - set_mode(${mode})
    - set_tmcc_print(${tmcc_print})

file_format: 1
